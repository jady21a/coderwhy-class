# 引入组件
![[Pasted image 20220830112655.png]]

# 父子组件
父传子: props 属性 (property)
子传父: $emit 触发事件

## 父传子 props
Props 是你可以在组件上注册一些自定义的 attribute； ![[Pasted image 20220830113838.png]]
父组件给这些 attribute 赋值，子组件通过 attribute 的名称获取到对应的值；
props 数据类型
 - string (数组中的字符串就是 attribute 的名称)
 - obj (可以在指定 attribute 名称的同时，指定它需要传递的类型 [string, number, Boolean, array, object, date, function, symbol]、是否是必须的、默认值等)
![[Pasted image 20220829210908.png]]
  
当 default 为对象,default 须为函数, 且有返回值
![[Pasted image 20220829211921.png]]

### 非 Prop 的 Attribute
当我们传递给一个组件某个属性，但是该属性并没有定义对应的 props 或者 emits 时，就称之为非 Prop 的 Attribute；(传入的属性没有在 son 中 prop 接收)
常见的包括 class、style、id 属性等；

1. 当组件有单个根节点时，非 Prop 的 Attribute 将自动添加到根节点的 Attribute 中：
![[Pasted image 20220829212547.png]]

如果我们不希望组件的根元素继承 attribute，可以在son组件中设置 inheritAttrs: false ![[Pasted image 20220829212727.png]]
禁用后可以通过 $attrs 来访问所有的非 props 的 attribute；
![[Pasted image 20220829213433.png]]
2. 多个根节点的 attribute 如果没有显示的绑定，那么会报警告，我们必须手动的指定要绑定到哪一个属性上
![[Pasted image 20220829213112.png]]


## 子传父 $emit
1. 在子组件中定义好在某些情况下触发的事件名称
2. 在父组件中以 v-on (@) 的方式传入要监听的事件名称，并且绑定到对应的方法中
3. 在子组件中发生某个事件的时候，根据事件名称触发对应的事件
父
![[Pasted image 20220829232047.png]]
子
![[Pasted image 20220829232138.png]]

需要子传父的情况
- 子组件发生了点击，父组件需要切换内容
- 子组件有一些内容想要传递给父组件

### 参数验证
在 vue3 中，我们可以对传递的参数进行验证
![[Pasted image 20220829231642.png]]

# tab 切换案例
![[Pasted image 20220829201926.png]]

要点: 
1. 不能在 template 上加类名
2. 子 tab 点击传递到 app

# 插槽
共同的元素、内容依然在组件内进行封装
不同的元素使用 slot 作为占位，让外部决定到底显示什么样的元素, 如 a , img 等
如:
![[Pasted image 20220830130926.png]] 
## 基本使用
app
![[Pasted image 20220830142111.png]]
son
![[Pasted image 20220830142205.png]]
## 具名插槽  \#
如果一个组件中含有多个插槽, 每个插槽都会把所有内容都放进一个插槽里面
要使每个插槽显示对应内容, 可以使用具名插槽
给插槽起一个名字
不带 name 的 slot，会带有隐含的名字 default

( v-slot: ) 可简写为 \#
son
![[Pasted image 20220830142344.png]]
app
![[Pasted image 20220830142238.png]]
## 动态插槽名
v-slot: [name]
![[Pasted image 20220830142509.png]]
## 渲染作用域
每个模板里的内容只能在自己的文件中使用, 如 app 里的 data 内容 son 是访问不到的
除非使用传递语法

## 作用域插槽
![[Pasted image 20220830170129.png]]
![[Pasted image 20220830170209.png]]
## 其他
### 独占默认插槽的缩写
只有一个插槽且为默认插槽时, 可以将 v-slot 直接用在组件上, 不写 template
![[Pasted image 20220830170223.png]]
### 默认插槽和具名插槽混合
有默认插槽和具名插槽，须按照完整的 template 来编写
只要出现多个插槽，就为所有的插槽使用完整的语法


# 非父子组件通讯
最常用: axios 等库

不常用的方式: (代码少可以用)
 全局事件总线； 
 Provide/Inject；

## Provide 和 Inject
父组件通过 provide 选项来提供数据； 
子组件通过 inject 选项来开始使用这些数据；
![[Pasted image 20220830174708.png]]

响应式数据
如果 Provide 中提供的一些数据是来自 data
![[Pasted image 20220830174834.png]]
注意：我们在使用 length 的时候需要获取其中的 value
是因为 computed 返回的是一个 ref 对象，需要取出其中的 value 来使用；