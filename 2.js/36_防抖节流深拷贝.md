for .. of  遍历拿到 value
for .. in   遍历拿到索引 (key)

# 防抖节流
第三方库实现: lodash   underscore
[Underscore.js (underscorejs.org)](https://underscorejs.org/)
![[Pasted image 20220818102719.png]]
## 防抖 debounce
当事件密集触发时，函数会被推迟触发；
如点击间隔时间过短低于 100ms 则进行延时触发函数
![[Pasted image 20220817192228.png]]
应用:
输入框中频繁的输入内容，搜索或者提交信息；
频繁的点击按钮，触发某个事件；
监听浏览器滚动事件，完成某些特定操作；

## 节流 throttle
throat 喉咙
不管在这个中间有多少次触发这个事件，执行函数的频繁总是固定的；
![[Pasted image 20220817192928.png]]
应用:
游戏中的普攻键设计； ![[Pasted image 20220817193150.png]]
监听页面的滚动事件；
鼠标移动事件；
用户频繁点击按钮操作；


## 自定义防抖节流
防抖
-  防抖基本功能实现：可以实现防抖效果 
-  优化一：优化参数和 this 指向 
-  优化二：优化取消操作（增加取消功能） 
-  优化三：优化立即执行效果（第一次立即执行） 
-  优化四：优化返回值

节流
-  节流函数的基本实现：可以实现节流效果 
-  优化一：节流最后一次也可以执行 
-  优化二：优化添加取消功能 
-  优化三：优化返回值问题
# 深拷贝事件总线
## 深拷贝
-  引入的赋值：指向同一个对象，相互之间会影响； 
-  对象的浅拷贝：只是浅层的拷贝，内部引入对象时，依然会相互影响； 
-  对象的深拷贝：两个对象不再有任何关系，不会相互影响；
![[Pasted image 20220818102805.png]]
深拷贝方式
1. JASON. parse
-  这种深拷贝的方式其实对于函数、Symbol 等是无法处理的； 
-  并且如果存在对象的循环引用，也会报错；
2. 自定义深拷贝
-  1. 自定义深拷贝的基本功能； 
-  2. 对 Symbol 的 key 进行处理； 
-  3. 其他数据类型的值进程处理：数组、函数、Symbol、Set、Map； 
-  4. 对循环引用的处理；

## 事件总线（EventBus）
-  发布者（Publisher）：发出事件（Event）； 
-  订阅者（Subscriber）：订阅事件（Event），并且会进行响应（Handler）； 
-  事件总线（EventBus）：无论是发布者还是订阅者都是通过事件总线作为中台的；